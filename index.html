<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan - M. Rizqi Maulana & Salsa</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --pink-theme: #f8bbd0;
            --blue-theme: #bbdefb;
            --dark-pink: #d81b60;
            --dark-blue: #1976d2;
            --green-success: #2e7d32;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            color: #333;
        }

        h1, h2, h3, .mempelai-name {
            font-family: 'Dancing Script', cursive;
        }

        /* Parallax Styling */
        .parallax-section {
            min-height: 100vh;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .content-box {
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.85);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid var(--pink-theme);
            max-width: 800px;
            width: 90%;
            text-align: center;
            margin-top: 50px;
            margin-bottom: 50px;
        }

        /* Floating Nav */
        .floating-nav {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 1px solid var(--pink-theme);
            display: flex;
            gap: 15px;
        }

        .floating-nav a {
            color: var(--dark-pink);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            padding: 5px 10px;
            transition: 0.3s;
        }

        .floating-nav a:hover {
            color: var(--dark-blue);
        }

        /* QR Button diganti jadi Button Check-in */
        .checkin-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--dark-pink);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
        }

        .checkin-button i {
            font-size: 20px;
            margin-bottom: 2px;
        }

        /* Slideshow */
        .carousel-item {
            height: 100vh;
            background-size: cover;
            background-position: center;
        }

        .fixed-caption {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.8);
            width: 100%;
            z-index: 10;
            pointer-events: none;
        }

        /* Countdown */
        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            pointer-events: auto;
        }

        .count-box {
            background: var(--dark-pink);
            color: white;
            padding: 10px;
            border-radius: 10px;
            min-width: 70px;
        }

        .count-box span {
            display: block;
            font-size: 24px;
            font-weight: bold;
        }

        /* Scrollable Boxes */
        #chat-box, #attendance-list {
            height: 250px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            background: #fdfdfd;
            margin-bottom: 15px;
        }

        .chat-msg, .attendance-item {
            background: var(--blue-theme);
            padding: 8px 12px;
            border-radius: 15px;
            margin-bottom: 10px;
            max-width: 90%;
            font-size: 14px;
            animation: fadeIn 0.5s ease;
        }

        .attendance-item {
            background: #e8f5e9;
            border-left: 4px solid var(--green-success);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-msg b { color: var(--dark-pink); }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Section Backgrounds */
        #acara { background-image: url('https://images.unsplash.com/photo-1511795409834-ef04bbd61622?q=80&w=2069'); }
        #ucapan { background-image: url('https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=2070'); }
        #kado { background-image: url('https://images.unsplash.com/photo-1513151233558-d860c5398176?q=80&w=2070'); }

        .btn-custom {
            background: var(--dark-pink);
            color: white;
            border-radius: 25px;
            padding: 10px 25px;
            border: none;
            transition: 0.3s;
        }

        .btn-custom:hover {
            background: var(--dark-blue);
            color: white;
        }

        .toast-container {
            z-index: 3000;
        }
    </style>
</head>
<body>

    <!-- Tombol Check-in (Pengganti QR) -->
    <button class="checkin-button" data-bs-toggle="modal" data-bs-target="#checkInModal">
        <i class="fas fa-user-check"></i>
        <span>HADIR</span>
    </button>

    <!-- Floating Navigation -->
    <nav class="floating-nav">
        <a href="#home-section"><i class="fas fa-home"></i></a>
        <a href="#acara">Acara</a>
        <a href="#ucapan">Ucapan</a>
        <a href="#kado">Kado</a>
    </nav>

    <!-- Section 1: Hero -->
    <section id="home-section" class="parallax-section p-0">
        <div class="overlay"></div>
        <div class="fixed-caption">
            <h1 class="display-2 mb-0">M. Rizqi Maulana</h1>
            <h2 class="display-4">&</h2>
            <h1 class="display-2 mb-4">Salsa</h1>
            <p class="lead mb-4">Kami Mengundang Anda dalam Kebahagiaan Kami</p>
            <div class="countdown-container" id="countdown">
                <div class="count-box"><span id="days">00</span>Hari</div>
                <div class="count-box"><span id="hours">00</span>Jam</div>
                <div class="count-box"><span id="mins">00</span>Menit</div>
                <div class="count-box"><span id="secs">00</span>Detik</div>
            </div>
        </div>
        <div id="heroCarousel" class="carousel slide carousel-fade w-100 h-100" data-bs-ride="carousel">
            <div class="carousel-inner h-100">
                <!-- Mengganti gambar wanita kacamata dengan dekorasi pernikahan -->
                <div class="carousel-item active" style="background-image: url('https://images.unsplash.com/photo-1519225421980-715cb0215aed?q=80&w=2070');"></div>
                <div class="carousel-item" style="background-image: url('https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=2070');"></div>
            </div>
        </div>
    </section>

    <!-- Section 2: Detail Acara -->
    <section id="acara" class="parallax-section">
        <div class="overlay" style="background: rgba(255, 255, 255, 0.4);"></div>
        <div class="content-box">
            <h2 class="display-5 text-pink mb-4">Detail Acara</h2>
            <h4>Akad & Resepsi Pernikahan</h4>
            <p class="mb-1"><i class="far fa-calendar-alt"></i> Minggu, 29 April 2026</p>
            <p class="mb-1"><i class="far fa-clock"></i> 09.00 WIB - Selesai</p>
            <hr>
            <p><strong>Lokasi:</strong><br>Bambangan Rt : 025 Rw : 005,<br>Kebowan, Suruh</p>
            <button id="btnMap" class="btn btn-custom mt-2"><i class="fas fa-map-marker-alt"></i> Navigasi Lokasi</button>
        </div>
    </section>

    <!-- Section 3: Ucapan & Daftar Hadir -->
    <section id="ucapan" class="parallax-section">
        <div class="overlay" style="background: rgba(255, 255, 255, 0.4);"></div>
        <div class="content-box" style="text-align: left;">
            <ul class="nav nav-pills mb-3 justify-content-center" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="pills-chat-tab" data-bs-toggle="pill" data-bs-target="#pills-chat" type="button" role="tab">Buku Ucapan</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="pills-presence-tab" data-bs-toggle="pill" data-bs-target="#pills-presence" type="button" role="tab">Tamu Hadir (<span id="countHadir">0</span>)</button>
                </li>
            </ul>
            
            <div class="tab-content" id="pills-tabContent">
                <!-- Tab Ucapan -->
                <div class="tab-pane fade show active" id="pills-chat" role="tabpanel">
                    <div id="chat-box">
                        <div class="chat-msg"><b>Andi:</b> Selamat menempuh hidup baru Rizqi & Salsa!</div>
                    </div>
                    <form id="formUcapan">
                        <input type="text" id="inputNama" class="form-control mb-2" placeholder="Nama Anda" required>
                        <textarea id="inputPesan" class="form-control mb-2" rows="2" placeholder="Tulis ucapan..." required></textarea>
                        <button type="submit" class="btn btn-custom w-100">Kirim Ucapan</button>
                    </form>
                </div>
                
                <!-- Tab Daftar Hadir -->
                <div class="tab-pane fade" id="pills-presence" role="tabpanel">
                    <div id="attendance-list">
                        <div class="text-center text-muted py-5" id="noGuest">Belum ada tamu yang check-in.</div>
                    </div>
                    <p class="small text-muted text-center mt-2">*Daftar tamu yang telah mengonfirmasi kehadiran di lokasi.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Kado -->
    <section id="kado" class="parallax-section">
        <div class="overlay" style="background: rgba(255, 255, 255, 0.4);"></div>
        <div class="content-box">
            <h2 class="mb-4">Kado Digital</h2>
            <div class="card border-0 shadow-sm mx-auto" style="max-width: 400px; background: var(--blue-theme);">
                <div class="card-body text-center">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/5c/Bank_Central_Asia.svg" alt="BCA" style="height: 30px;" class="mb-3">
                    <h4 class="mb-1" id="rekNomor">0202445598</h4>
                    <p class="text-muted mb-3">a.n M. Rizqi Maulana</p>
                    <button class="btn btn-sm btn-dark" id="btnCopy"><i class="far fa-copy"></i> Salin Rekening</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal Check-in (Tanpa QR) -->
    <div class="modal fade" id="checkInModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">Konfirmasi Kehadiran</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Silahkan masukkan nama Anda untuk mencatat kehadiran di lokasi acara:</p>
                    <form id="formCheckIn">
                        <input type="text" id="checkInName" class="form-control mb-3 text-center" placeholder="Nama Lengkap" required>
                        <button type="submit" class="btn btn-success w-100 py-2">
                            <i class="fas fa-check-circle"></i> Saya Sudah Hadir
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-primary text-white">
                <strong class="me-auto">Info</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toastBody"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        $(document).ready(function() {
            let guestCount = 0;

            // Countdown
            const weddingDate = new Date("April 29, 2026 09:00:00").getTime();
            setInterval(() => {
                const now = new Date().getTime();
                const distance = weddingDate - now;
                const d = Math.floor(distance / (1000 * 60 * 60 * 24));
                const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const s = Math.floor((distance % (1000 * 60)) / 1000);
                $("#days").text(d < 10 ? "0"+d : d);
                $("#hours").text(h < 10 ? "0"+h : h);
                $("#mins").text(m < 10 ? "0"+m : m);
                $("#secs").text(s < 10 ? "0"+s : s);
            }, 1000);

            // Logic Check-in Form
            $("#formCheckIn").submit(function(e) {
                e.preventDefault();
                const name = $("#checkInName").val().trim();
                const now = new Date();
                const timeStr = now.getHours() + ":" + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();
                
                // Tambahkan ke daftar hadir
                $("#noGuest").hide();
                const item = `<div class="attendance-item">
                    <span><i class="fas fa-check-circle text-success"></i> <strong>${name}</strong></span>
                    <small class="text-muted">${timeStr} WIB</small>
                </div>`;
                $("#attendance-list").prepend(item);
                
                // Update counter tamu
                guestCount++;
                $("#countHadir").text(guestCount);
                
                // Tutup Modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('checkInModal'));
                modal.hide();
                
                // Notifikasi
                $("#toastBody").text("Selamat datang, " + name + "!");
                new bootstrap.Toast(document.getElementById('liveToast')).show();
                
                // Reset input
                $("#checkInName").val("");
            });

            // Form Ucapan
            $("#formUcapan").submit(function(e) {
                e.preventDefault();
                const n = $("#inputNama").val();
                const p = $("#inputPesan").val();
                $("#chat-box").append(`<div class="chat-msg"><b>${n}:</b> ${p}</div>`);
                $("#chat-box").animate({ scrollTop: $('#chat-box')[0].scrollHeight }, 500);
                $("#toastBody").text("Terima kasih atas ucapannya!");
                new bootstrap.Toast(document.getElementById('liveToast')).show();
                this.reset();
            });

            // Utils
            $("#btnMap").click(() => window.open("https://www.google.com/maps?q=-7.371509,110.552469", "_blank"));
            $("#btnCopy").click(function() {
                const r = $("#rekNomor").text();
                const t = $("<input>").val(r).appendTo("body").select();
                document.execCommand("copy");
                t.remove();
                $(this).text("Tersalin!");
                setTimeout(() => $(this).html('<i class="far fa-copy"></i> Salin Rekening'), 2000);
            });

            // Smooth Scroll
            $('.floating-nav a').on('click', function(event) {
                if (this.hash !== "") {
                    event.preventDefault();
                    var hash = this.hash;
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800);
                }
            });
        });
    </script>
</body>
</html>